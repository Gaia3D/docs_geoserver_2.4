<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Data Considerations &mdash; GeoServer 2.4.0 사용자 매뉴얼</title>
  <link rel="stylesheet" href="../static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../static/default.css" type="text/css" />
  <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.4.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../static/jquery.js"></script>
  <script type="text/javascript" src="../static/doctools.js"></script>
  <script type="text/javascript" src="../static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.4.0 사용자 매뉴얼" href="../index.html" />
      <link rel="up" title="Running in a Production Environment" href="index.html" />
      <link rel="next" title="Linux init scripts" href="linuxscript.html" />
      <link rel="prev" title="Configuration Considerations" href="config.html" />
</head>
<body class="production/data">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../index.html">GeoServer 2.4.0 사용자 매뉴얼</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoServer 2.4.0 사용자 매뉴얼</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Running in a Production Environment</a> &raquo;</li>
  <li>Data Considerations</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="linuxscript.html" title="Linux init scripts"
       accesskey="N">다음</a></li>
  <li>
    <a href="config.html" title="Configuration Considerations"
       accesskey="P">이전</a>|</li>
</ul>
        
  <div class="section" id="data-considerations">
<span id="production-data"></span><h1>Data Considerations<a class="headerlink" href="#data-considerations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="use-an-external-data-directory">
<h2>Use an external data directory<a class="headerlink" href="#use-an-external-data-directory" title="Permalink to this headline">¶</a></h2>
<p>GeoServer는 데이터 디렉터리를 내장하고 있습니다. 하지만 응용 프로그램과 데이터를 분리하는 편이 좋습니다.
데이터 디렉터리를 외부로 분리하면 설정 정보를 겹쳐 쓸(overwrite) 우려가 없기 때문에 훨씬 쉽게 업그레이드할 수 있습니다.
데이터 디렉터리를 외부로 분리하면 필요한 경우 사용자 설정도 쉽게 전송할 수 있습니다.
외부 데이터 디렉터리를 가리키려면 <tt class="file docutils literal"><span class="pre">web.xml</span></tt> 파일을 편집하기만 하면 됩니다.
GeoServer를 처음 사용하는 경우, GeoServer와 함께 설치되는 데이터 디렉터리를 다른 위치로 복사(또는 그냥 이동)하기만 하면 됩니다.</p>
</div>
<div class="section" id="use-a-spatial-database">
<h2>Use a spatial database<a class="headerlink" href="#use-a-spatial-database" title="Permalink to this headline">¶</a></h2>
<p>Shapefile은 지리공간 데이터 가운데 아주 흔한 포맷입니다.
하지만 생산 환경에서 GeoServer를 운영하는 경우, <a class="reference external" href="http://www.postgis.org">PostGIS</a> 같은 공간 데이터베이스를 사용하는 편이 좋습니다.
WFS-T(transaction) 작업을 하는 경우 공간 데이터베이스가 필수적입니다. 대부분의 공간 데이터베이스는 shapefile 변환 도구를 제공합니다.
많은 공간 데이터베이스가 있기는 하지만(<a class="reference internal" href="../data/database/index.html#data-database"><em>Working with Databases</em></a> 섹션 참조), PostGIS를 권장합니다.
Oracle, DB2, ArcSDE도 지원하고 있습니다.</p>
</div>
<div class="section" id="pick-the-best-performing-coverage-formats">
<h2>Pick the best performing coverage formats<a class="headerlink" href="#pick-the-best-performing-coverage-formats" title="Permalink to this headline">¶</a></h2>
<p>다양한 커버리지 포맷을 처리하는 속도에는 매우 큰 차이가 있습니다.</p>
<p>대용량 데이터셋을 빠른 속도로 서비스하려면 노하우 및 세부 조정이 필요합니다. 보통 배포 및 기록을 위해 데이터를 설정하기 때문입니다.
다음은 데이터 구조가 어떻게 속도에 영향을 미치는지, 그리고 최적 데이터 서비스 속도를 얻기 위해 가능한 도구 사용법에 대한 기본적인 지식을 알려주는 작은 조언들입니다.</p>
<div class="section" id="choose-the-right-format">
<h3>Choose the right format<a class="headerlink" href="#choose-the-right-format" title="Permalink to this headline">¶</a></h3>
<p>첫번째 주요 요소는 올바른 포맷을 선택하는 것입니다. 데이터 교환을 위해 설계된 포맷도 있고, 데이터 렌더링이나 서비스를 위해 설계된 포맷도 있습니다.
데이터 서비스에 좋은 포맷이란 바이너리이며, 다중 해상도로 추출할 수 있고, 자체(native) 해상도에서 하위 집합(subset)을 빠르게 추출하는 기능을 지원하는 데이터 포맷입니다.</p>
<p>Examples of such formats are GeoTiff, ECW, JPEG 2000 and MrSid.
반면에 ArcGrid는 대용량 데이터셋을 서비스하는 데 특히 어울리지 않는 포맷의 예입니다.
(텍스트 기반이며, 다중 해상도를 지원하지 않고, 일반적인 경우 데이터 하위 집합을 추출할 때조차 전체 데이터를 모두 읽어들여야 합니다.)</p>
<p>GeoServer는 GDAL 이미지 포맷 플러그인을 통해 MrSID, ECW, JPEG 2000 포맷을 지원합니다.
GeoServer 호환 오픈소스 포맷이 해당 리더를 지원하므로 MrSID 포맷이 다루기에 가장 쉽습니다.
ECW 파일을 사용하는 경우 그렇게 이상적이지는 않은 몇몇 옵션이 있습니다. 교육용이나 비영리 목적으로만 GeoServer를 사용할 경우 해당 플러그인을 무료로 사용할 수 있습니다.
그렇지 않을 경우, 서버 소프트웨어이기 때문에, 라이선스를 구매해야 합니다. 또 ECW 파일을 MrSID나 타일(tiled) GeoTiff로 변환하기 위한 GDAL도 있어야 합니다.
JPEG 2000 파일을 사용하는 경우 ECW 및 MrSID 소프트웨어의 유틸리티를 사용할 수 있습니다. 속도면에서 Kakadu가 가장 빠른데, 역시 라이선스가 필요합니다.</p>
</div>
<div class="section" id="setup-geotiff-data-for-fast-rendering">
<h3>Setup Geotiff data for fast rendering<a class="headerlink" href="#setup-geotiff-data-for-fast-rendering" title="Permalink to this headline">¶</a></h3>
<p>Geotiff 파일 용량이 수십 MB를 넘어가면 다음 기능을 추가해야 할 것입니다.</p>
<blockquote>
<div><ul class="simple">
<li>내부 타일링(inner tiling)</li>
<li>오버뷰(overview)</li>
</ul>
</div></blockquote>
<p>내부 타일링은 이미지 레이아웃을 단순 스트라이프(행) 대신 타일로 구성하도록 설정합니다.
이렇게 하면 geotiff의 특정 영역에 훨씬 빨리 접근할 수 있고, Geoserver의 리더(reader)는 이 기능을 통해 현재 표출되는 영역을 렌더링하는 데 꼭 필요한 타일만 읽어올 수 있습니다.
다음은 <a class="reference external" href="http://www.gdal.org/gdal_translate.html">gdal_translate</a>가 타일 <a class="reference external" href="http://www.gdal.org/frmt_gtiff.html">geotiff</a>를 생성하도록 하는 명령어 예시입니다.</p>
<div class="highlight-xml"><div class="highlight"><pre>gdal_translate -of GTiff -projwin -180 90 -50 -10 -co &quot;TILED=YES&quot; bigDataSet.ecw myTiff.tiff
</pre></div>
</div>
<p>오버뷰는 동일한 이미지를 다운샘플링한(downsampled) 버전으로, 일반적으로 훨씬 작은 용량의 줌아웃 버전입니다.
Geoserver가 Geotiff를 렌더링 해야 할 경우 훨씬 적은 데이터를 읽고 변환할 수 있는 시작 지점으로서 가장 적합한 오버뷰를 찾습니다.
<a class="reference external" href="http://www.gdal.org/gdaladdo.html">gdaladdo</a> 또는 Geotools에 포함된 OverviewsEmbedded 명령을 통해 오버뷰를 추가할 수 있습니다.
다음은 gdaladdo를 사용해서 원래 이미지보다 2배, 4배, 8배, 16배 작게 다운샘플링된 오버뷰를 추가하는 명령어 예시입니다.</p>
<div class="highlight-xml"><div class="highlight"><pre>gdaladdo -r average mytiff.tif 2 4 8 16
</pre></div>
</div>
<p>Geoserver에서 GDAL 유틸리를 사용하는 방법에 대해 더 자세한 정보를 알고 싶다면
<a class="reference external" href="http://geoserver.org/display/GEOSDOC/Load+NASA+Blue+Marble+Data">BlueMarble data loading tutorial</a>을 참조하십시오.</p>
<p>마지막으로 Geotiff가 여러 종류의 압축을 지원하지만 압축을 사용하지 말 것을 권장합니다.
압축을 사용하면 훨씬 작은 파일을 쓸 수 있지만 압축 해제 처리 과정이 많은 리소스를 소모하고 데이터 접근 시마다 실행되기 때문에 렌더링 속도가 눈에 띄게 느려집니다.
경험에 따르면 순수하게 디스크에서 데이터를 읽는 시간보다 압축 해제 시간이 더 걸립니다.</p>
</div>
<div class="section" id="handling-huge-data-sets">
<h3>Handling huge data sets<a class="headerlink" href="#handling-huge-data-sets" title="Permalink to this headline">¶</a></h3>
<p>(수 GB 정도의) 정말 큰 용량의 데이터셋을 서비스하는 경우 단순히 오버뷰 및 타일을 추가한다고 해서 처리 속도가 빨라지는 경우는 별로 없고, 오히려 중간 단계의 해상도를 서비스하는 속도가 느려집니다.
오직 자체(native) 해상도 수준에서만 타일링 작업이 일어나고 그 중간 단계의 오버뷰를 빨리 추출하기에는 데이터가 너무 크기 때문입니다.</p>
<p>따라서 중간 단계 수준에서도 타일링 작업을 할 수 있는 방법이 필요합니다. ImagePyramid 플러그인을 써서 이 기능을 지원할 수 있습니다.</p>
<p>이 플러그인은 원래 이미지의 서로 다른 해상도 수준에 따라 여러 매끄러운(seamless) 이미지 모자이크(image mosaics)를 생성했다고 가정합니다.
모자이크의 타일은 실제 파일입니다.
(모자이크에 대해 더 자세한 정보를 알고 싶다면 <a class="reference internal" href="../tutorials/image_mosaic_plugin/imagemosaic.html#tutorial-imagemosaic-extension"><em>Using the ImageMosaic plugin</em></a>를 참조하십시오.)
전체 피라미드 구조는 다음과 같이 보입니다.</p>
<div class="highlight-xml"><div class="highlight"><pre>rootDirectory
    +- pyramid.properties
    +- 0
       +- mosaic metadata files
       +- mosaic_file_0.tiff
       +- ...
       +- mosiac_file_n.tiff
    +- ...
    +- 32
       +- mosaic metadata files
       +- mosaic_file_0.tiff
       +- ...
       +- mosiac_file_n.tiff
</pre></div>
</div>
<p>이론적으로 GDAL을 써서 수작업으로 피라미드 구조를 생성할 수 있지만 실제로는 많은 스크립트 작업이 필요한 쉽지 않은 작업입니다.
GDAL은 이미지에서 일정한(regular) 타일을 추출하는 &#8220;타일 작업자(tiler)&#8221; 명령어나 다운샘플링된 타일 집합을 생성하는 명령어를 갖추고 있지 않기 때문입니다.
대신 GeoTools의 PyramidBuilder 도구를 사용할 수 있습니다. (이 도구의 사용법에 대한 문서는 작업 중이므로, 이 도구를 사용해야 할 경우 개발자 커뮤니티에 문의하십시오.)</p>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>이전</strong>: <a href="config.html" title="previous chapter">Configuration Considerations</a></div>
          <div class="rightwise"><strong>다음</strong>: <a href="linuxscript.html" title="next chapter">Linux init scripts</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">차례</h3>
        <ul>
<li><a class="reference internal" href="#">Data Considerations</a><ul>
<li><a class="reference internal" href="#use-an-external-data-directory">Use an external data directory</a></li>
<li><a class="reference internal" href="#use-a-spatial-database">Use a spatial database</a></li>
<li><a class="reference internal" href="#pick-the-best-performing-coverage-formats">Pick the best performing coverage formats</a><ul>
<li><a class="reference internal" href="#choose-the-right-format">Choose the right format</a></li>
<li><a class="reference internal" href="#setup-geotiff-data-for-fast-rendering">Setup Geotiff data for fast rendering</a></li>
<li><a class="reference internal" href="#handling-huge-data-sets">Handling huge data sets</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>이전: <a href="config.html" title="previous chapter">Configuration Considerations</a></li>
            <li>다음: <a href="linuxscript.html" title="next chapter">Linux init scripts</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>현재 페이지</h3>
        <ul class="this-page-menu">
          <li><a href="../sources/production/data.txt">원본 보기</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2013, OpenPlans. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    Last updated on Sep 18, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>